<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Niezbędnik_IT_STOP_FRAUD</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; background: #f0f0f0; margin: 0; padding: 0; }
    header { background: #263238; color: white; padding: 20px; text-align: center; }
    section { background: white; margin: 20px auto; padding: 20px; border-radius: 8px; max-width: 800px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    input, textarea, button { width: 100%; padding: 10px; margin-top: 10px; border-radius: 5px; border: 1px solid #ccc; }
    button { background: #1565c0; color: white; cursor: pointer; border: none; }
    button:hover { background: #0d47a1; }
    .result { margin-top: 10px; padding: 10px; background: #e3f2fd; border-left: 4px solid #2196f3; }
    footer { text-align: center; padding: 20px; font-size: 0.9em; color: #666; }
    h2 { color: #263238; }
    a { color: #1565c0; text-decoration: none; }
  </style>
</head>
<body>

<header>
  <h1>Niezbędnik_IT_STOP_FRAUD</h1>
  <p>Twoje narzędzia do walki z cyberzagrożeniami — bez logowania, bez backendu</p>
</header>

<section>
  <h2>🌍 Twoje IP i lokalizacja</h2>
  <button onclick="getMyIP()">Pokaż dane</button>
  <div class="result" id="geoResult"></div>
</section>

<section>
  <h2>📨 Analizator phishingu (lokalny)</h2>
  <textarea id="phishingText" placeholder="Wklej wiadomość e-mail lub SMS"></textarea>
  <button onclick="analyzePhishing()">Analizuj</button>
  <div class="result" id="phishingResult"></div>
</section>

<section>
  <h2>🔍 Reputacja domeny (whoisxmlapi.com)</h2>
  <input type="text" id="domainInput" placeholder="np. example.com">
  <button onclick="checkDomain()">Sprawdź domenę</button>
  <div class="result" id="domainResult"></div>
</section>

<section>
  <h2>🧪 Sprawdź URL przez urlscan.io</h2>
  <input type="text" id="urlInput" placeholder="np. https://podejrzana-strona.pl">
  <button onclick="generateUrlScanLink()">Utwórz link do analizy</button>
  <div class="result" id="urlscanResult"></div>
</section>

<section>
  <h2>📚 Edukacja</h2>
  <ul>
    <li>Nie klikaj w linki z nieznanych źródeł</li>
    <li>Sprawdzaj, czy domena wygląda podejrzanie</li>
    <li>Uważaj na pilne wiadomości proszące o dane logowania</li>
    <li>Korzystaj z 2FA i aktualizuj systemy</li>
  </ul>
</section>

<footer>
  &copy; 2025 Niezbędnik_IT_STOP_FRAUD. Wszystkie prawa zastrzeżone.
</footer>

<script>
  async function getMyIP() {
    const resultDiv = document.getElementById("geoResult");
    resultDiv.textContent = "Pobieranie...";
    try {
      const res = await fetch("https://ipinfo.io/json?token=demo");
      const data = await res.json();
      resultDiv.innerHTML = `
        IP: ${data.ip}<br>
        Lokalizacja: ${data.city}, ${data.region}, ${data.country}<br>
        Dostawca: ${data.org}
      `;
    } catch {
      resultDiv.textContent = "Błąd pobierania danych.";
    }
  }

  function analyzePhishing() {
    const text = document.getElementById("phishingText").value.toLowerCase();
    const resultDiv = document.getElementById("phishingResult");
    const patterns = [
      "kliknij tutaj", "konto zablokowane", "zresetuj hasło", "weryfikacja", 
      "pilne", "nagroda", "czekamy na twoją odpowiedź", "zwycięzca"
    ];
    const found = patterns.filter(p => text.includes(p));
    if (found.length > 0) {
      resultDiv.innerHTML = `🚨 Możliwe oszustwo!<br><strong>Frazy:</strong> ${found.join(", ")}`;
    } else {
      resultDiv.textContent = "✅ Nie znaleziono podejrzanych fraz.";
    }
  }

  async function checkDomain() {
    const domain = document.getElementById("domainInput").value.trim();
    const resultDiv = document.getElementById("domainResult");
    if (!domain) {
      resultDiv.textContent = "Wprowadź domenę.";
      return;
    }
    resultDiv.textContent = "Pobieranie danych...";
    try {
      const res = await fetch(`https://domain-reputation.whoisxmlapi.com/api/v1?apiKey=at_demo&domainName=${domain}`);
      const data = await res.json();
      resultDiv.innerHTML = `
        <strong>Domena:</strong> ${data.domainName}<br>
        <strong>Reputacja:</strong> ${data.reputationScore}/100<br>
        <strong>Bezpieczna?</strong> ${data.maliciousActivity ? "🚫 NIE" : "✅ Tak"}<br>
        <strong>Ostatnia aktywność:</strong> ${data.recent ? "Niedawno aktywna" : "Brak danych"}
      `;
    } catch {
      resultDiv.textContent = "Błąd pobierania danych lub brak dostępu do API demo.";
    }
  }

  function generateUrlScanLink() {
    const url = document.getElementById("urlInput").value.trim();
    const resultDiv = document.getElementById("urlscanResult");
    if (!url) {
      resultDiv.textContent = "Wprowadź adres URL.";
      return;
    }
    const encoded = encodeURIComponent(url);
    const scanLink = `https://urlscan.io/search/#${encoded}`;
    resultDiv.innerHTML = `Kliknij, aby zobaczyć skan:<br><a href="${scanLink}" target="_blank">${scanLink}</a>`;
  }
</script>

</body>
</html>
